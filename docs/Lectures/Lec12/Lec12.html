<!DOCTYPE html>
<html lang="en"><head>
<link href="../../Images/Logos_Icons/hex.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Ethan P. Marzban">
  <title>PSTAT 100: Summer 2025 – PSTAT 100: Lecture 12</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-ce6bc8a5410e8df11883f060677c6af5.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="../../site_libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {enableAssistiveMml: false}});</script>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="Images/100_hex.png" data-background-opacity="0.5" data-background-position="80% 50%" data-background-size="30%" class="quarto-title-block center">
  <h1 class="title">PSTAT 100: Lecture 12</h1>
  <p class="subtitle">Hypothesis Testing, Part II</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Ethan P. Marzban 
</div>
        <p class="quarto-title-affiliation">
            Department of Statistics and Applied Probability; UCSB <br> <br>
          </p>
        <p class="quarto-title-affiliation">
            Summer Session A, 2025
          </p>
    </div>
</div>

</section>
<section class="slide level2">

<p><span class="math display">\[
\newcommand\R{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\Prob}{\mathbb{P}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\1}{1\!\!1}
\newcommand{\comp}[1]{#1^{\complement}}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\SD}{\mathrm{SD}}
\newcommand{\vect}[1]{\vec{\boldsymbol{#1}}}
\newcommand{\Cov}{\mathrm{Cov}}
\newcommand{\iid}{\stackrel{\mathrm{i.i.d.}}{\sim}}
\]</span></p>
<div class="cell">
<style type="text/css">
.hscroll {
  height: 100%;
  max-height: 600px;
  max-width: 2000px;
  overflow: scroll;
}

.hscroll2 {
  height: 100%;
  max-height: 300px;
  overflow: scroll;
}

.hscroll3 {
  max-width: 2rem;
  overflow: scroll;
}
</style>
</div>
</section>
<section id="recap" class="slide level2">
<h2><i class="fa-solid fa-backward-fast" aria-label="backward-fast"></i> Recap</h2>
<ul>
<li class="fragment"><p>Last lecture, we started our discussion on <span class="alert"><strong>hypothesis testing</strong></span>.</p></li>
<li class="fragment"><p>In hypothesis testing, we seek to use data to assess the validity of a claim about a particular population parameter.</p>
<ul>
<li class="fragment">E.g. we wish to use data to determine whether we believe the true proportion of polydactyl cats to be 10% or not.</li>
</ul></li>
<li class="fragment"><p>The <span class="alert"><strong>null hypothesis</strong></span> represents the “status quo,” or the claim we are given.</p></li>
<li class="fragment"><p>The <span class="alert"><strong>alternative hypothesis</strong></span> represents an alternative to the null, and should be selected before beginning testing.</p></li>
</ul>
</section>
<section id="recap-1" class="slide level2">
<h2><i class="fa-solid fa-backward-fast" aria-label="backward-fast"></i> Recap</h2>
<ul>
<li class="fragment"><p>For example, if we want to test <em>H</em><sub>0</sub>: θ = θ<sub>0</sub> where θ denotes an arbitrary population parameter, the four choices of alternatives become</p>
<ol type="1">
<li class="fragment"><span class="alert"><strong>Lower-Tailed</strong></span>: <em>H</em><sub><em>A</em></sub>: θ &lt; θ<sub>0</sub></li>
<li class="fragment"><span class="alert"><strong>Upper-Tailed</strong></span>: <em>H</em><sub><em>A</em></sub>: θ &gt; θ<sub>0</sub></li>
<li class="fragment"><span class="alert"><strong>Two-Tailed</strong></span> (aka <span class="alert"><strong>Two-Sided</strong></span>): <em>H</em><sub><em>A</em></sub>: θ ≠ θ<sub>0</sub></li>
<li class="fragment"><span class="alert"><strong>Simple-vs-Simple</strong></span>: <em>H</em><sub><em>A</em></sub>: θ = θ<sub><em>A</em></sub> for some θ<sub><em>A</em></sub> ≠ θ<sub>0</sub></li>
</ol></li>
<li class="fragment"><p>Again, we need to select one of these to be our alternative.</p></li>
<li class="fragment"><p>Last lecture, we considered hypothesis tests for a population <em>proportion</em>. Let’s consider hypothesis testing for a <em>mean</em>.</p></li>
<li class="fragment"><p>Just as our tests for the proportion involved the sample proportion, our tests for the mean will depend on the sample mean.</p></li>
</ul>
</section>
<section id="hypothesis-test-for-a-mean" class="slide level2">
<h2><i class="fa-solid fa-timeline" aria-label="timeline"></i> Hypothesis Test for a Mean</h2>
<h3 id="known-population-variance">Known Population Variance</h3>
<ul>
<li class="fragment"><p>Null: µ = µ<sub>0</sub>. Assume the population variance σ<sup>2</sup> is known.</p></li>
<li class="fragment"><p><strong>Upper-Tailed Test:</strong> Reject <em>H</em><sub>0</sub> if <span class="math inline">\(\displaystyle \frac{\overline{X}_n - \mu_0}{\sigma / \sqrt{n}}  &gt; \Phi^{-1}(1 - \alpha)\)</span><br>
</p></li>
<li class="fragment"><p><strong>Lower-Tailed Test:</strong> Reject <em>H</em><sub>0</sub> if <span class="math inline">\(\displaystyle \frac{\overline{X}_n - \mu_0}{\sigma / \sqrt{n}} &lt; \Phi^{-1}(\alpha)\)</span><br>
</p></li>
<li class="fragment"><p><strong>Two-Sided Test:</strong> Reject <em>H</em><sub>0</sub> if <span class="math inline">\(\displaystyle \left| \frac{\overline{X}_n - \mu_0}{\sigma / \sqrt{n}} \right| &gt; \Phi^{-1}\left(1 - \frac{\alpha}{2} \right)\)</span></p></li>
</ul>
</section>
<section id="hypothesis-test-for-a-mean-1" class="slide level2">
<h2><i class="fa-solid fa-timeline" aria-label="timeline"></i> Hypothesis Test for a Mean</h2>
<h3 id="unknown-population-variance">Unknown Population Variance</h3>
<ul>
<li class="fragment"><p>Null: µ = µ<sub>0</sub>. Assume the population variance σ<sup>2</sup> is unknown</p></li>
<li class="fragment"><p><strong>Upper-Tailed Test:</strong> Reject <em>H</em><sub>0</sub> if <span class="math inline">\(\displaystyle \frac{\overline{X}_n - \mu_0}{S_n / \sqrt{n}}  &gt; F_{t_{n - 1}}^{-1}(1 - \alpha)\)</span><br>
</p></li>
<li class="fragment"><p><strong>Lower-Tailed Test:</strong> Reject <em>H</em><sub>0</sub> if <span class="math inline">\(\displaystyle \frac{\overline{X}_n - \mu_0}{S_n / \sqrt{n}} &lt; F_{t_{n - 1}}^{-1}(\alpha)\)</span><br>
</p></li>
<li class="fragment"><p><strong>Upper-Tailed Test:</strong> Reject <em>H</em><sub>0</sub> if <span class="math inline">\(\displaystyle \left| \frac{\overline{X}_n - \mu_0}{S_n / \sqrt{n}} \right| &gt; F_{t_{n - 1}}^{-1}\left(1 - \frac{\alpha}{2} \right)\)</span></p></li>
<li class="fragment"><p><span class="math inline">\(S_n := \sqrt{(n - 1) \sum_{i=1}^{n} (X_i - \overline{X}_n)^2}\)</span>, and <span class="math inline">\(F_{t_{n - 1}}^{-1}(\cdot)\)</span> denotes the inverse CDF of the <em>t</em><sub><em>n</em>-1</sub> distribution.</p></li>
</ul>
</section>
<section id="hypothesis-test-for-a-mean-2" class="slide level2">
<h2><i class="fa-solid fa-timeline" aria-label="timeline"></i> Hypothesis Test for a Mean</h2>
<h3 id="p-values"><em>p</em>-Values</h3>
<ul>
<li class="fragment"><p><em>p</em>-values are still defined in the same was as before: they are the probability of observing something as or more extreme (in the direction of the alternative) as what was actually observed.</p></li>
<li class="fragment"><p>Again, I find drawing a picture to be much more helpful than trying to memorize formulas and mathematical definitions!</p></li>
<li class="fragment"><p>Also, just as before, we reject the null if our <em>p</em> value falls below the level of significance.</p></li>
</ul>
</section>
<section id="hypothesis-testing" class="slide level2">
<h2><i class="fa-solid fa-scale-unbalanced" aria-label="scale-unbalanced"></i> Hypothesis Testing</h2>
<h3 id="some-generalizations">Some Generalizations</h3>
<ul>
<li class="fragment"><p>Up until now, we’ve exclusively considered null hypotheses of the form <em>H</em><sub>0</sub>: θ = θ<sub>0</sub>.</p>
<ul>
<li class="fragment">Such a null is often referred to as a <span class="alert"><strong>simple hypothesis</strong></span></li>
</ul></li>
<li class="fragment"><p>What happens if we have a more complex null, like <em>H</em><sub>0</sub>: θ ≥ θ<sub>0</sub>?</p></li>
<li class="fragment"><p>It turns out that the “best” hypothesis test looks only at the boundary; that is, it is equivalent to use the null <em>H</em><sub>0</sub>: θ = θ<sub>0</sub> when testing <em>H</em><sub>0</sub>: θ ≥ θ<sub>0</sub> or <em>H</em><sub>0</sub>: θ ≤ θ<sub>0</sub> !</p></li>
</ul>
</section>
<section id="your-turn" class="slide level2">
<h2><i class="fa-solid fa-pencil" aria-label="pencil"></i> Your Turn!</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Your Turn!</strong></strong></p>
</div>
<div class="callout-content">
<p>“Industrial wastewater discharge” refers to liquid waste produced as a result of industrial processes. Companies are often required to register for permits to produce industrial wastewater, and these permits are sometimes contingent on the average concentration of pollutants in the wastewater.<br>
</p>
<p>Suppose that the state of <em>Gauchonia</em> only offers permits to companies whose wastewater has an average pollutant concentration of 150 mg/L or less. To ensure regular compliance, government officials take annual audits. Previous audits have revealed Company <em>X</em>’s average wastewater pollutant levels to be below 150 mg/L, but the most recent collection of 81 samples of wastewater revealed a combined average of 151.5 mg/L and standard deviation of 8 mg/L.<br>
</p>
<p>Should the state of <em>Gauchonia</em> revoke Company <em>X</em>’s industrial wastewater discharge permit? Use a 5% level of significance, and report a <em>p</em> value.</p>
</div>
</div>
</div>
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Caution</strong></strong></p>
</div>
<div class="callout-content">
<p>You’ll need a computer for this one!</p>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_d7e6b4e6" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:6rem;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section>
<section id="testing-across-groups" class="title-slide slide level1 center" data-background-color="black" data-background-image="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExdHJuaGNxZHhybGdobDQyYzd0NnQwdW1ibWN6dXk1bG5haWx4bDhmeSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/q5uos1edhSnN6/200.gif" data-background-size="100rem">
<h1>Testing Across Groups</h1>

</section>
<section id="leadup" class="slide level2">
<h2><i class="fa-solid fa-stairs" aria-label="stairs"></i> Leadup</h2>
<ul>
<li class="fragment">Here’s a question: do UCSB students, on average, have longer commute times than SBCC students?
<ul>
<li class="fragment">Suppose someone has claimed that the answer is “yes”; UCSB students have longer average commute times than SBCC students.</li>
<li class="fragment">This seems like something we might like to answer using <em>data</em>; specifically, by constructing a <em>hypothesis test</em>.</li>
</ul></li>
<li class="fragment">But, note that the hypothesis we are testing involves <em>two</em> populations, and, consequently, <em>two</em> population parameters:
<ul>
<li class="fragment"><em>µ</em><sub>1</sub> := the average commute times among UCSB students</li>
<li class="fragment"><em>µ</em><sub>2</sub> := the average commute times among SBCC students</li>
<li class="fragment"><strong>H<sub>0</sub></strong>: &nbsp;<em>µ</em><sub>1</sub> = <em>µ</em><sub>2</sub></li>
</ul></li>
</ul>
</section>
<section id="leadup-1" class="slide level2">
<h2><i class="fa-solid fa-stairs" aria-label="stairs"></i> Leadup</h2>
<ul>
<li class="fragment"><p>This is an example of hypothesis testing of <em>multiple</em> parameters, which often arises when we wish to compare two or more populations (or two or more groups within the same population).</p></li>
<li class="fragment"><p>Let’s consider the <span class="alert"><strong>two-sample problem</strong></span> first: i.e.&nbsp;where we have twwo populations <span class="math inline">\(\mathcal{P}_1\)</span> and <span class="math inline">\(\mathcal{P}_2\)</span> with associated means <em>µ</em><sub>1</sub> and <em>µ</em><sub>2</sub>, respectively.</p></li>
<li class="fragment"><p>Further suppose our null is <strong>H<sub>0</sub></strong>: &nbsp;<em>µ</em><sub>1</sub> = <em>µ</em><sub>2</sub>. There are then three types of alternatives to consider:</p>
<ul>
<li class="fragment"><strong>H<sub>A</sub></strong>: <em>µ</em><sub>1</sub> &lt; <em>µ</em><sub>2</sub></li>
<li class="fragment"><strong>H<sub>A</sub></strong>: <em>µ</em><sub>1</sub> &gt; <em>µ</em><sub>2</sub></li>
<li class="fragment"><strong>H<sub>A</sub></strong>: <em>µ</em><sub>1</sub> ≠ <em>µ</em><sub>2</sub></li>
</ul></li>
<li class="fragment"><p>We will still call the third case a “two-sided” alternative, but no longer refer to the first and second as upper- or lower-tailed.</p></li>
</ul>
</section>
<section id="two-sample-problem" class="slide level2">
<h2><i class="fa-solid fa-code-compare" aria-label="code-compare"></i> Two-Sample Problem</h2>
<h3 id="in-practice">In Practice</h3>
<ul>
<li class="fragment"><p>To avoid getting too bogged down with math at first, I’ll let you in on a “secret”: we can conduct this test in <code>R</code> quite simply, using the function <code>t.test()</code>.</p></li>
<li class="fragment"><p>Allow me to demonstrate its use, and then we’ll dive deeper into the details of <em>how</em> it works and <em>what</em> the various components of the output mean.</p>
<ul>
<li class="fragment">To keep things simple, we’ll use simulated data.</li>
</ul></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">set.seed</span>(<span class="dv">100</span>)           <span class="do">## for reproducibility</span></span>
<span id="cb1-2"><a></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">30</span>, <span class="dv">4</span>, <span class="dv">1</span>)    <span class="do">## sample of UCSB commute times</span></span>
<span id="cb1-3"><a></a>y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">40</span>, <span class="dv">5</span>, <span class="fl">1.5</span>)  <span class="do">## sample of SBCC commute times</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="two-sample-problem-1" class="slide level2">
<h2><i class="fa-solid fa-code-compare" aria-label="code-compare"></i> Two-Sample Problem</h2>
<h3 id="in-practice-1">In Practice</h3>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Two-Sided</a></li><li><a href="#tabset-1-2"><em>µ</em><sub>1</sub> &lt; <em>µ</em><sub>2</sub></a></li><li><a href="#tabset-1-3"><em>µ</em><sub>1</sub> &gt; <em>µ</em><sub>2</sub></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="fu">t.test</span>(x, y, <span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  x and y
t = -3.9571, df = 55.764, p-value = 0.0002167
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -1.7307509 -0.5672877
sample estimates:
mean of x mean of y 
 4.028864  5.177883 </code></pre>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">t.test</span>(x, y, <span class="at">alternative =</span> <span class="st">"less"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  x and y
t = -3.9571, df = 55.764, p-value = 0.0001084
alternative hypothesis: true difference in means is less than 0
95 percent confidence interval:
       -Inf -0.6633376
sample estimates:
mean of x mean of y 
 4.028864  5.177883 </code></pre>
</div>
</div>
</div>
<div id="tabset-1-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="fu">t.test</span>(x, y, <span class="at">alternative =</span> <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  x and y
t = -3.9571, df = 55.764, p-value = 0.9999
alternative hypothesis: true difference in means is greater than 0
95 percent confidence interval:
 -1.634701       Inf
sample estimates:
mean of x mean of y 
 4.028864  5.177883 </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="two-sample-problem-2" class="slide level2">
<h2><i class="fa-solid fa-code-compare" aria-label="code-compare"></i> Two-Sample Problem</h2>
<h3 id="mechanism">Mechanism</h3>
<ul>
<li class="fragment"><p>Alright, let’s dive a bit deeper into the mechanisms behind this test.</p></li>
<li class="fragment"><p>Suppose we have: <span class="math display">\[\begin{align*}
  X_1, \cdots, X_{n_1}  &amp; \iid \mathcal{N}(\mu_1, \ \sigma_1^2) \\
  Y_1, \cdots, Y_{n_2}  &amp; \iid \mathcal{N}(\mu_2, \ \sigma_2^2)
\end{align*}\]</span> with the <span class="math inline">\(X\)</span>’s and <span class="math inline">\(Y\)</span>’s independent of each other.</p></li>
<li class="fragment"><p>Our null hypothesis is that the two populations have the same mean: i.e.&nbsp;<strong>H<sub>0</sub></strong>: <em>µ</em><sub>1</sub> = <em>µ</em><sub>2</sub>.</p>
<ul>
<li class="fragment">The trick is to define δ := <em>µ</em><sub>1</sub> - <em>µ</em><sub>2</sub> as the <em>difference</em> in population means.</li>
</ul></li>
</ul>
</section>
<section id="two-sample-problem-3" class="slide level2">
<h2><i class="fa-solid fa-code-compare" aria-label="code-compare"></i> Two-Sample Problem</h2>
<h3 id="mechanism-1">Mechanism</h3>
<ul>
<li class="fragment"><p>The null becomes <strong>H<sub>0</sub></strong>: δ = 0, and our three possible alternatives as:</p>
<ul>
<li class="fragment"><strong>H<sub>A</sub></strong>: δ &lt; 0</li>
<li class="fragment"><strong>H<sub>A</sub></strong>: δ &gt; 0</li>
<li class="fragment"><strong>H<sub>A</sub></strong>: δ ≠ 0</li>
</ul></li>
<li class="fragment"><p>In other words, after <span class="alert"><strong>reparametrizing</strong></span> our problem to be in terms of δ, utilize all of our <em>one-parameter</em> testing results!</p></li>
<li class="fragment"><p>By the way, these three alternatives correspond (in order) to the following values for the <code>alternative</code> argument in <code>t.test()</code>: <code>"lower"</code>, <code>"upper"</code>, and <code>"two.sided"</code>.</p></li>
</ul>
</section>
<section id="two-sample-problem-4" class="slide level2">
<h2><i class="fa-solid fa-code-compare" aria-label="code-compare"></i> Two-Sample Problem</h2>
<h3 id="mechanism-2">Mechanism</h3>
<ul>
<li class="fragment"><p>If we knew the population variances σ<sub>1</sub><sup>2</sup> and σ<sub>2</sub><sup>2</sup>, respectively, a natural test statistic would be <span class="math display">\[ T := \frac{\overline{X}_{n_1} - \overline{Y}_{n_2}}{\sqrt{\frac{\sigma_1^2}{n_1} + \frac{\sigma_2^2}{n_2}}} \]</span> since, under the null, <span class="math inline">\(T\)</span> would follow a standard normal distribution.</p></li>
<li class="fragment"><p>In practice, however, the population variances are <em>not</em> known, meaning we should replace them with estimators:</p></li>
</ul>
</section>
<section id="two-sample-problem-5" class="slide level2">
<h2><i class="fa-solid fa-code-compare" aria-label="code-compare"></i> Two-Sample Problem</h2>
<h3 id="mechanism-3">Mechanism</h3>
<p><span class="math display">\[ T := \frac{\overline{X}_{n_1} - \overline{Y}_{n_2}}{\sqrt{\frac{S_X^2}{n_1} + \frac{S_Y^2}{n_2}}} \]</span></p>
<ul>
<li class="fragment"><p>Under the null (i.e.&nbsp;if δ = 0), it turns out that <span class="math inline">\(T\)</span> doesn’t <em>exactly</em> follow a <em>t</em>-distribution, but instead follows a distribution that is <em>well-approximated</em> by the <em>t</em>-distribution.</p></li>
<li class="fragment"><p>The degrees of freedom are a whole other matter.</p></li>
</ul>
</section>
<section id="two-sample-problem-6" class="slide level2">
<h2><i class="fa-solid fa-code-compare" aria-label="code-compare"></i> Two-Sample Problem</h2>
<h3 id="welch-satterthwaite-approximation">Welch-Satterthwaite Approximation</h3>
<ul>
<li class="fragment">The degrees of freedom is given by the <span class="alert"><strong>Welch-Satterthwaite Approximation</strong></span>: <span class="math display">\[ \nu = \mathrm{round}\left\{
  \frac
  {\left[  \left( \frac{S_X^2}{n_1} \right) + \left( \frac{S_Y^2}{n_2} \right) \right]^2}
  {\frac{\left( \frac{S_X^2}{n_1} \right)^2}{n_1 - 1} + \frac{\left( \frac{S_Y^2}{n_2} \right)^2}{n_2 - 1}}
\right\} \]</span>
<ul>
<li class="fragment">This is what <code>t.test()</code> uses.</li>
<li class="fragment">Sometimes you will see people use <span class="math inline">\(\nu = \min\{n_1 - 1, \ n_2 - 1\}\)</span>.</li>
</ul></li>
</ul>
</section>
<section id="two-sample-problem-7" class="slide level2">
<h2><i class="fa-solid fa-code-compare" aria-label="code-compare"></i> Two-Sample Problem</h2>
<h3 id="welch-satterthwaite-approximation-1">Welch-Satterthwaite Approximation</h3>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Using <code>t.test()</code></a></li><li><a href="#tabset-2-2">By Hand</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">t.test</span>(x, y)<span class="sc">$</span>parameter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      df 
55.76411 </code></pre>
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>df_sw <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y){</span>
<span id="cb10-2"><a></a>  sx2 <span class="ot">&lt;-</span> <span class="fu">var</span>(x);  sy2 <span class="ot">&lt;-</span> <span class="fu">var</span>(y)</span>
<span id="cb10-3"><a></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x); m <span class="ot">&lt;-</span> <span class="fu">length</span>(y)</span>
<span id="cb10-4"><a></a>  </span>
<span id="cb10-5"><a></a>  num <span class="ot">&lt;-</span> ((sx2<span class="sc">/</span>n) <span class="sc">+</span> (sy2<span class="sc">/</span>m))<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb10-6"><a></a>  denom <span class="ot">&lt;-</span> ((sx2<span class="sc">/</span>n)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (n <span class="sc">-</span> <span class="dv">1</span>)) <span class="sc">+</span> ((sy2<span class="sc">/</span>m)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (m <span class="sc">-</span> <span class="dv">1</span>)) </span>
<span id="cb10-7"><a></a>  </span>
<span id="cb10-8"><a></a>  <span class="fu">return</span>(num<span class="sc">/</span>denom)</span>
<span id="cb10-9"><a></a>}</span>
<span id="cb10-10"><a></a></span>
<span id="cb10-11"><a></a><span class="fu">df_sw</span>(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55.76411</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="two-sample-t-test" class="slide level2">
<h2><i class="fa-solid fa-code-compare" aria-label="code-compare"></i> Two-Sample T-Test</h2>
<ul>
<li class="fragment">So, this is what the <code>t.test()</code> function is doing behind the scenes, depending on the <code>alternative</code> argument (such a test is called a <span class="alert"><strong>two-sample <em>t</em>-test</strong></span>):
<ul>
<li class="fragment"><code>greater</code>: Reject <em>H</em><sub>0</sub> if <span class="math inline">\(\frac{(\overline{X}_n - \overline{Y}_m)}{\sqrt{\frac{S_X^2}{n} + \frac{S_Y^2}{m}}}  &gt; F_{t_{\nu}}^{-1} (1 - \alpha)\)</span><br>
</li>
<li class="fragment"><code>lower</code>: Reject <em>H</em><sub>0</sub> if <span class="math inline">\(\frac{(\overline{X}_n - \overline{Y}_m)}{\sqrt{\frac{S_X^2}{n} + \frac{S_Y^2}{m}}} &lt; F_{t_{\nu}}^{-1}(\alpha)\)</span><br>
</li>
<li class="fragment"><code>two.sided</code>: Reject <em>H</em><sub>0</sub> if <span class="math inline">\(\left| \frac{(\overline{X}_n - \overline{Y}_m)}{\sqrt{\frac{S_X^2}{n} + \frac{S_Y^2}{m}}} \right| &gt; F_{t_{\nu}}^{-1}\left(1 - \frac{\alpha}{2} \right)\)</span></li>
</ul></li>
</ul>
</section>
<section id="your-turn-2" class="slide level2">
<h2><i class="fa-solid fa-pencil" aria-label="pencil"></i> Your Turn!</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Your Turn!</strong></strong></p>
</div>
<div class="callout-content">
<p>A government official claims that the nations of <em>Gauchonia</em> and <em>Bruinland</em> have the same average household incomes. To test this claim, an analyst takes an i.i.d. sample of <em>Gauchonian</em> households and an independent i.i.d. sample of <em>Bruinlandian</em> households; their data is stored in the <code>incomes.csv</code> file located in the <code>data/</code> subfolder.</p>
<p>Test the government’s claims against a two-sided alternative, using a 5% level of significance. For practice, conduct this test twice: once using <code>t.test()</code> and once “by hand”.</p>
</div>
</div>
</div>
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Caution</strong></strong></p>
</div>
<div class="callout-content">
<p>You’ll need a computer for this one!</p>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_f7467b82" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:6rem;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="multiple-testing" class="slide level2">
<h2><i class="fa-solid fa-triangle-exclamation" aria-label="triangle-exclamation"></i> Multiple Testing</h2>
<ul>
<li class="fragment"><p>The last thing I’d like to discuss is a <em>very important</em> concept, and relates to situations in which we need to repeatedly perform hypotheses tests.</p></li>
<li class="fragment"><p>As a simple example, let’s return to our hands-on demo from last week, where we sought to determine whether bags of candy were balanced in terms of colors.</p></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:93%;">
<colgroup>
<col style="width: 16%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>Tot</strong></td>
<td style="text-align: center;">58</td>
<td style="text-align: center;">58</td>
<td style="text-align: center;">58</td>
<td style="text-align: center;">58</td>
<td style="text-align: center;">58</td>
<td style="text-align: center;">57</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>Green</strong></td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">13</td>
<td style="text-align: center;">8</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>Prop</strong></td>
<td style="text-align: center;">0.1724</td>
<td style="text-align: center;">0.1724</td>
<td style="text-align: center;">0.08621</td>
<td style="text-align: center;">0.1379</td>
<td style="text-align: center;">0.2241</td>
<td style="text-align: center;">0.1404</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<ul>
<li class="fragment"><p>On Thursday, we used only one of these samples to test the null that <em>p</em> (the true proportion of green candies) is equal to 0.2 against a two-sided alternative.</p></li>
<li class="fragment"><p>It seems natural to repeat this test 6 times, one for each sample.</p></li>
</ul>
</section>
<section id="multiple-testing-1" class="slide level2">
<h2><i class="fa-solid fa-triangle-exclamation" aria-label="triangle-exclamation"></i> Multiple Testing</h2>
<h3 id="candy-example">Candy Example</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>tester_1 <span class="ot">&lt;-</span> <span class="cf">function</span>(p, n){</span>
<span id="cb12-2"><a></a>  test_stat <span class="ot">&lt;-</span> (p <span class="sc">-</span> <span class="fl">0.2</span>) <span class="sc">/</span> <span class="fu">sqrt</span>((<span class="fl">0.2</span> <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.2</span>)) <span class="sc">/</span> n)</span>
<span id="cb12-3"><a></a>  p_val <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">pnorm</span>(<span class="sc">-</span><span class="dv">1</span> <span class="sc">*</span> <span class="fu">abs</span>(test_stat))</span>
<span id="cb12-4"><a></a>  <span class="fu">return</span>(p_val)</span>
<span id="cb12-5"><a></a>}</span>
<span id="cb12-6"><a></a></span>
<span id="cb12-7"><a></a><span class="fu">rbind</span>(<span class="fu">paste</span>(<span class="st">"Sample"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>), </span>
<span id="cb12-8"><a></a>      candy_data <span class="sc">%&gt;%</span> </span>
<span id="cb12-9"><a></a>        <span class="fu">mutate</span>(<span class="at">p_vals =</span> <span class="fu">tester_1</span>(Prop, Tot)) <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a></a>        <span class="fu">pull</span>(p_vals) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">5</span>) </span>
<span id="cb12-11"><a></a>) <span class="sc">%&gt;%</span> <span class="fu">pander</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top" style="width:92%;">
<colgroup>
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: center;">Sample 1</td>
<td style="text-align: center;">Sample 2</td>
<td style="text-align: center;">Sample 3</td>
<td style="text-align: center;">Sample 4</td>
<td style="text-align: center;">Sample 5</td>
<td style="text-align: center;">Sample 6</td>
</tr>
<tr class="even">
<td style="text-align: center;">0.59943</td>
<td style="text-align: center;">0.59943</td>
<td style="text-align: center;">0.03027</td>
<td style="text-align: center;">0.2373</td>
<td style="text-align: center;">0.64582</td>
<td style="text-align: center;">0.26023</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="multiple-testing-2" class="slide level2">
<h2><i class="fa-solid fa-triangle-exclamation" aria-label="triangle-exclamation"></i> Multiple Testing</h2>
<h3 id="candy-example-1">Candy Example</h3>
<ul>
<li class="fragment"><p>Suppose we use a 5% level of significance.</p></li>
<li class="fragment"><p>Then, if we had observed any of samples 1, 2, 4, 5, or 6, we would have failed to reject the null in favor of the two-sided alternative, whereas if we had observed sample 3 we would have <em>rejected</em> the null in favor of the alternative.</p></li>
<li class="fragment"><p>Of course, the true value of <em>p</em> is fixed across all of these samples. Hence, we see that there is some inherent randomness <em>in our final decision</em>.</p></li>
<li class="fragment"><p>Indeed, consider a general test of <strong>H</strong><sub>0</sub>: θ = θ<sub>0</sub> at an α level of significance.</p></li>
<li class="fragment"><p>By definition of α: under the null, there is an α chance that we <em>falsely</em> reject the null.</p></li>
</ul>
</section>
<section id="multiple-testing-3" class="slide level2">
<h2><i class="fa-solid fa-triangle-exclamation" aria-label="triangle-exclamation"></i> Multiple Testing</h2>
<ul>
<li class="fragment"><p>Suppose, unbeknownst to us, the null is in fact true.</p>
<ul>
<li class="fragment">Further suppose we conduct <em>N</em> independent hypothesis tests.</li>
</ul></li>
<li class="fragment"><p>The number of tests we reject then follows a Bin(<em>N</em>, α) distribution.</p></li>
<li class="fragment"><p>The probability that we reject at least one test (again, falsely!) is therefore 1 - (1 - α)<sup><em>N</em></sup></p></li>
<li class="fragment"><p>So, for example, if we conduct 10 independent hypothesis tests of the same parameter at a 5% level of significance, there is around a 40% chance that we reject at least once <em>even if the null is true</em>!</p></li>
<li class="fragment"><p>It is relatively simple to show that even if the tests we conduct are not independent, the probability of rejecting at least one test is bounded above by <em>Nα</em>.</p></li>
</ul>
</section>
<section id="multiple-testing-4" class="slide level2">
<h2><i class="fa-solid fa-triangle-exclamation" aria-label="triangle-exclamation"></i> Multiple Testing</h2>
<ul>
<li class="fragment"><p>So, here’s the moral: the more <em>simultaneous</em> tests (i.e.&nbsp;tests of the same hypothesis, or tests involving the same data) we conduct, the higher our chances become of falsely rejecting a null.</p></li>
<li class="fragment"><p>This is the phenomenon known as <span class="alert"><strong>multiple testing</strong></span>, and it something we’d like to mitigate against!</p></li>
<li class="fragment"><p>One elegant way to mitigate the effects of multiple testing is known as the <span class="alert"><strong>Bonferroni correction</strong></span>, which says: instead of using α as your level of significance, use α / <em>N</em>.</p>
<ul>
<li class="fragment">In this way, the probability of falsely rejecting at least one null drops to α, and does not grow with the number of tests.</li>
</ul></li>
<li class="fragment"><p>Ex: in our candy example, use a significance level of α / 6 to safeguard against multiple testing if we perform a test based on each sample.</p></li>
</ul>
</section></section>
<section>
<section id="an-introduction-to-statistical-modeling" class="title-slide slide level1 center" data-background-color="black" data-background-image="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExbm1ua3V5cmw1cGw3dnZscjEwZzYyOXYwampuM213Nmo2dm10YndyeiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ZTDdarO1y8H3pAKO6o/giphy.gif" data-background-size="100rem">
<h1>An Introduction to Statistical Modeling</h1>

</section>
<section id="models" class="slide level2">
<h2><i class="fa-solid fa-gears" aria-label="gears"></i> Models</h2>
<h3 id="a-general-overview">A General Overview</h3>
<ul>
<li class="fragment"><p>We can think of a <span class="alert"><strong>model</strong></span> as a mathematical or idealized representation of a system.</p>
<ul>
<li class="fragment">For instance, a weather model seeks to represent what we think the weather tomorrow will be like; a financial model might seek to describe the behavior of a particular company’s stock; etc.</li>
</ul></li>
<li class="fragment"><p>There are two main types of models: <span class="alert"><strong>deterministic</strong></span> and <span class="alert"><strong>stochastic</strong></span> (aka <span class="alert"><strong>probabilistic</strong></span>, or <span class="alert"><strong>random</strong></span>).</p></li>
<li class="fragment"><p>Deterministic models govern the way the world works, and contain no (or very little) randomness.</p>
<ul>
<li class="fragment">These often come from fields like physics, astronomy, or chemistry.</li>
</ul></li>
<li class="fragment"><p>Stochastic models seek to desribe <em>random</em> processes; e.g.&nbsp;the stock market, the weather, etc.</p></li>
</ul>
</section>
<section id="models-1" class="slide level2">
<h2><i class="fa-solid fa-gears" aria-label="gears"></i> Models</h2>
<h3 id="the-ideal-gas-law">The Ideal Gas Law</h3>
<ul>
<li class="fragment">An example of a deterministic model is the <span class="alert"><strong>Ideal Gas Law</strong></span>, which seeks to model the behavior of gas under certain conditions.
<ul>
<li class="fragment">States that the product of the pressure and volume of the gas is proportional to the product of the amount of gas and the temperature: <span class="math inline">\(pV = nRT\)</span>.</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/ideal_gas_law.png" style="width:45.0%"></p>
<figcaption><strong>Source:</strong> https://en.wikipedia.org/wiki/Ideal_gas_law#/media/File:Ideal_gas_isotherms.svg</figcaption>
</figure>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment" style="font-size:20px">
<p>Isotherms of an ideal gas for different temperatures. The curved lines are rectangular hyperbolae of the form y = a/x. They represent the relationship between pressure (on the vertical axis) and volume (on the horizontal axis) for an ideal gas at different temperatures: lines that are farther away from the origin (that is, lines that are nearer to the top right-hand corner of the diagram) correspond to higher temperatures.</p>
</div>
</div></div>
</section>
<section id="models-2" class="slide level2">
<h2><i class="fa-solid fa-gears" aria-label="gears"></i> Models</h2>
<h3 id="keplers-third-law-of-planetary-motion">Kepler’s Third Law of Planetary Motion</h3>
<ul>
<li class="fragment">Another example of a deterministic model is <span class="alert"><strong>Kepler’s Third Law of Planetary Motion</strong></span>, which seeks to model the behavior of planets.
<ul>
<li class="fragment">The ratio of the square of an object’s orbital period with the cube of the semi-major axis of its orbit is the same for all objects orbiting the same primary.</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<div class="fragment">
<p><img data-src="Images/kepler.png" style="width:60.0%"></p>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment" style="font-size:20px">
<p>Log-log plot of period T vs semi-major axis a (average of aphelion and perihelion) of some Solar System orbits (crosses denoting Kepler’s values) showing that a³/T² is constant (green line).</p>
<p><strong>Source:</strong> Wikipedia</p>
</div>
</div></div>
</section>
<section id="models-3" class="slide level2">
<h2><i class="fa-solid fa-gears" aria-label="gears"></i> Models</h2>
<h3 id="black-scholes-merton-model">Black-Scholes Merton Model</h3>
<ul>
<li class="fragment">An example of a stochastic model is the <span class="alert"><strong>Black-Scholes-Merton</strong></span> (BSM) model, which seeks to (broadly speaking) model the dynamics of a financial market.</li>
</ul>
<div class="columns">
<div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<div class="fragment">
<p><img data-src="Images/bsm.jpg" style="width:100.0%"></p>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment" style="font-size:20px">
<p><br>
</p>
<p><span class="math display">\[ \frac{\partial V}{\partial t} + \frac{1}{2} \sigma^2 S^2 \frac{\partial^2 V}{\partial S^2} + rs \frac{\partial V}{\partial S} - rV = 0 \]</span></p>
<p>Simulated geometric Brownian motions with parameters from market data.</p>
<p><strong>Source:</strong> Wikipedia</p>
</div>
</div></div>
</section>
<section id="models-4" class="slide level2">
<h2><i class="fa-solid fa-gears" aria-label="gears"></i> Models</h2>
<h3 id="a-familiar-concept">A Familiar Concept</h3>
<ul>
<li class="fragment"><p>Believe it or not, we’ve actually been exposed to the idea of stochastic modeling… back in PSTAT 120A!</p></li>
<li class="fragment"><p>For example, suppose I toss a coin 10 times and observe the following string of heads and tails: (<code>H</code>, <code>T</code>, <code>T</code>, <code>H</code>, <code>H</code>, <code>T</code>, <code>H</code>, <code>H</code>, <code>T</code>, <code>H</code>).</p></li>
<li class="fragment"><p>Define the random variable <em>X</em><sub><em>i</em></sub> to be the result of the <em>i</em><sup>th</sup> coin flip; either 1 (for “Heads”) or 0 (for “Tails”).</p></li>
<li class="fragment"><p>Based on our probability knowledge, it seems natural to assign <em>X</em> ~ Bern(<em>π</em>). <strong>This is a stochastic model!</strong></p></li>
<li class="fragment"><p>Now, this model has one <span class="alert"><strong>parameter</strong></span> (<em>π</em>) that remains unknown.</p>
<ul>
<li class="fragment">But, we can apply <em>estimation</em> techniques to generate a reasonable “guess” for the true value of <em>π</em>, based on our data.</li>
</ul></li>
</ul>
</section>
<section id="models-5" class="slide level2">
<h2><i class="fa-solid fa-gears" aria-label="gears"></i> Models</h2>
<h3 id="the-general-modeling-framework">The General Modeling Framework</h3>
<ul>
<li class="fragment"><p>This is the idea underlying pretty much all of modeling!</p></li>
<li class="fragment"><p>Specifically, when positing a model, we often follow a three-step procedure (which I will affectionately refer to as the “PEA” process):</p>
<ol type="1">
<li class="fragment">Propose a model</li>
<li class="fragment">Fit the model to the data</li>
<li class="fragment">Assess how well we believe our model is performing.</li>
</ol></li>
<li class="fragment"><p>We’ll explore each of these steps in greater detail over the following slides.</p></li>
</ul>
</section>
<section id="the-modeling-process" class="slide level2">
<h2><i class="fa-solid fa-list-ol" aria-label="list-ol"></i> The Modeling Process</h2>
<h3 id="step-1-propose-a-model">Step 1: Propose a Model</h3>
<ul>
<li class="fragment"><p>The first step of the modeling process is to propose a model.</p></li>
<li class="fragment"><p>Most data, we believe, comes from a <span class="alert"><strong>data generating process</strong></span>; the first step in the modeling process is to translate this DGP to be in mathematical/statistical terms.</p></li>
<li class="fragment"><p>For instance, in our coin-flipping example, we believe that the data was generated in the following way: flip a coin that lands <code>H</code> with probability <em>π</em> and <code>T</code> with probability (1 - <em>π</em>), and repeat this 10 times.</p></li>
<li class="fragment"><p>Mathematically, this is equivalent to asserting <em>X</em><sub><em>i</em></sub> ~ Bern(<em>π</em>); hence, this is our proposed model.</p></li>
</ul>
</section>
<section id="the-modeling-process-1" class="slide level2">
<h2><i class="fa-solid fa-list-ol" aria-label="list-ol"></i> The Modeling Process</h2>
<h3 id="step-1-propose-a-model-1">Step 1: Propose a Model</h3>
<ul>
<li class="fragment"><p>Consider, again, our example (from a few lectures ago) about estimating the true average weight of all cats in the world.</p></li>
<li class="fragment"><p>At one point, we said: assume the weight of a randomly-selected cat follows the Normal distribution, with some unknown mean <em>µ</em> and some known variance σ<sup>2</sup>.</p>
<ul>
<li class="fragment">This is a <em>verbal</em> description of a model!</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment" style="text-align:center">
<p><em>Y</em><sub><em>i</em></sub> <span class="math inline">\(\stackrel{\mathrm{i.i.d.}}{\sim}\)</span> <em>N</em> (<em>µ</em>, σ<sup>2</sup>)</p>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment" style="text-align:center">
<p><em>Y</em><sub><em>i</em></sub> = <em>µ</em> + <em>ε</em><sub><em>i</em></sub>, for <em>ε</em><sub><em>i</em></sub> <span class="math inline">\(\stackrel{\mathrm{i.i.d.}}{\sim}\)</span> <em>N</em> (0, σ<sup>2</sup>)</p>
</div>
</div></div>
<ul>
<li class="fragment">Both models describe the same DGP; so, model specification is not unique.</li>
</ul>
</section>
<section id="the-modeling-process-2" class="slide level2">
<h2><i class="fa-solid fa-list-ol" aria-label="list-ol"></i> The Modeling Process</h2>
<h3 id="step-1-propose-a-model-2">Step 1: Propose a Model</h3>
<ul>
<li class="fragment"><p>Broadly speaking, there are two main ways we can specify a model, leading to two different approaches to statistical modeling.</p></li>
<li class="fragment"><p>In one framework, we propose a model that is specified in terms of a series of <em>parameters</em>.</p>
<ul>
<li class="fragment">This is the framework of <span class="alert"><strong>parametric modeling</strong></span></li>
</ul></li>
<li class="fragment"><p>It is, however, possible to specify a parameter-free model.</p>
<ul>
<li class="fragment">This is the framework of <span class="alert"><strong>nonparametric modeling</strong></span>.</li>
</ul></li>
<li class="fragment"><p>Tomorrow, we’ll consider an example of nonparametric modeling.</p></li>
<li class="fragment"><p>In subsequent lectures, we’ll spend more time on the parametric framework.</p></li>
</ul>
</section>
<section id="the-modeling-process-3" class="slide level2">
<h2><i class="fa-solid fa-list-ol" aria-label="list-ol"></i> The Modeling Process</h2>
<h3 id="step-2-fit-the-model-to-the-data">Step 2: Fit the Model to the Data</h3>
<ul>
<li class="fragment"><p>In parametric modeling, Step 2 of the modeling process amounts to simply finding “optimal” (we’ll discuss this more tomorrow) estimates/estimators for the parameter(s).</p></li>
<li class="fragment"><p>For instance, in our coin-flipping example, there is just one parameter: <em>π</em>, the probability that the coin lands <code>H</code>.</p></li>
<li class="fragment"><p>Based on the data (<code>H</code>, <code>T</code>, <code>T</code>, <code>H</code>, <code>H</code>, <code>T</code>, <code>H</code>, <code>H</code>, <code>T</code>, <code>H</code>), it seems natural to estimate <em>π</em> to be 0.6 (since 6 of the 10 coins landed <code>H</code>).</p>
<ul>
<li class="fragment">Of course, we have no way of knowing whether this is the truth or not - the coin <em>could</em> be fair, and we just <em>happened</em> (due to chance) to observe 6 heads.</li>
<li class="fragment">The statistician George Box famously said, “all models are wrong, but some are useful.”</li>
</ul></li>
</ul>
</section>
<section id="the-modeling-process-4" class="slide level2">
<h2><i class="fa-solid fa-list-ol" aria-label="list-ol"></i> The Modeling Process</h2>
<h3 id="step-2-fit-the-model-to-the-data-1">Step 2: Fit the Model to the Data</h3>
<ul>
<li class="fragment"><p>In our coin tossing example, our choice of estimation was relatively straightforward: use the sample proportion as an estimator for the population proportion.</p></li>
<li class="fragment"><p>In many cases, however, there won’t necessarily be one obvious choice for parameter estimates.</p>
<ul>
<li class="fragment">For example, in our cat-weight example: do we use the sample mean or the sample median?</li>
<li class="fragment">To estimate spread, should we use the mean or the median? Standard deviation or IQR?</li>
</ul></li>
<li class="fragment"><p>We’ll consider this question in more detail tomorrow.</p></li>
</ul>
</section>
<section id="the-modeling-process-5" class="slide level2">
<h2><i class="fa-solid fa-list-ol" aria-label="list-ol"></i> The Modeling Process</h2>
<h3 id="step-3-assess-the-model-fit">Step 3: Assess the Model Fit</h3>
<ul>
<li class="fragment"><p>The final step of the process is to assess how well we think we did.</p></li>
<li class="fragment"><p>This is a fairly broad concept, and consists of many context-dependent things.</p></li>
<li class="fragment"><p>For example, we might perform hypothesis testing to assess how well we think our fits from Step 2 are.</p></li>
<li class="fragment"><p>Or, in certain cases (as we will see over the next few lectures), we may be able to assess how well we believe our proposed model is doing at capturing the aspects of the DGP.</p></li>
<li class="fragment"><p>Either way, it is important to close out the modeling process by taking a retrospective “look back,” to ensure we aren’t missing anything.</p></li>
</ul>
</section>
<section id="next-time" class="slide level2">
<h2><i class="fa-solid fa-forward-fast" aria-label="forward-fast"></i> Next Time</h2>
<ul>
<li class="fragment">In Lab tomorrow, you’ll continue discussing hypothesis testing.
<ul>
<li class="fragment">This will include reviewing some of the material we covered in lecture, as well as introducing you to the notion of hypothesis testing involving <em>multiple</em> parameters.</li>
</ul></li>
<li class="fragment">In lecture tomorrow, we’ll continue our discussion of statistical modeling.
<ul>
<li class="fragment">We’ll see an example of nonparametric modeling, and another of parametric modeling.</li>
<li class="fragment">We’ll also discuss the estimation framework of parametric modeling.</li>
</ul></li>
<li class="fragment"><span class="alert"><strong>REMINDER:</strong></span> Homework 2 is due <strong>This Sunday</strong> (July 20) by 11:59pm on Gradescope.</li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="Images/logo.svg" class="slide-logo"></p>
<div class="footer footer-default">
<p>PSTAT 100 - Data Science: Concepts and Analysis, Summer 2025 with Ethan P. Marzban</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
            let selectedAnnoteEl;
            const selectorForAnnotation = ( cell, annotation) => {
              let cellAttr = 'data-code-cell="' + cell + '"';
              let lineAttr = 'data-code-annotation="' +  annotation + '"';
              const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
              return selector;
            }
            const selectCodeLines = (annoteEl) => {
              const doc = window.document;
              const targetCell = annoteEl.getAttribute("data-target-cell");
              const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
              const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              const lines = annoteSpan.getAttribute("data-code-lines").split(",");
              const lineIds = lines.map((line) => {
                return targetCell + "-" + line;
              })
              let top = null;
              let height = null;
              let parent = null;
              if (lineIds.length > 0) {
                  //compute the position of the single el (top and bottom and make a div)
                  const el = window.document.getElementById(lineIds[0]);
                  top = el.offsetTop;
                  height = el.offsetHeight;
                  parent = el.parentElement.parentElement;
                if (lineIds.length > 1) {
                  const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                  const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                  height = bottom - top;
                }
                if (top !== null && height !== null && parent !== null) {
                  // cook up a div (if necessary) and position it 
                  let div = window.document.getElementById("code-annotation-line-highlight");
                  if (div === null) {
                    div = window.document.createElement("div");
                    div.setAttribute("id", "code-annotation-line-highlight");
                    div.style.position = 'absolute';
                    parent.appendChild(div);
                  }
                  div.style.top = top - 2 + "px";
                  div.style.height = height + 4 + "px";
                  div.style.left = 0;
                  let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                  if (gutterDiv === null) {
                    gutterDiv = window.document.createElement("div");
                    gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                    gutterDiv.style.position = 'absolute';
                    const codeCell = window.document.getElementById(targetCell);
                    const gutter = codeCell.querySelector('.code-annotation-gutter');
                    gutter.appendChild(gutterDiv);
                  }
                  gutterDiv.style.top = top - 2 + "px";
                  gutterDiv.style.height = height + 4 + "px";
                }
                selectedAnnoteEl = annoteEl;
              }
            };
            const unselectCodeLines = () => {
              const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
              elementsIds.forEach((elId) => {
                const div = window.document.getElementById(elId);
                if (div) {
                  div.remove();
                }
              });
              selectedAnnoteEl = undefined;
            };
              // Handle positioning of the toggle
          window.addEventListener(
            "resize",
            throttle(() => {
              elRect = undefined;
              if (selectedAnnoteEl) {
                selectCodeLines(selectedAnnoteEl);
              }
            }, 10)
          );
          function throttle(fn, ms) {
          let throttle = false;
          let timer;
            return (...args) => {
              if(!throttle) { // first call gets through
                  fn.apply(this, args);
                  throttle = true;
              } else { // all the others get throttled
                  if(timer) clearTimeout(timer); // cancel #2
                  timer = setTimeout(() => {
                    fn.apply(this, args);
                    timer = throttle = false;
                  }, ms);
              }
            };
          }
            const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
            for (let i=0; i<annoteTargets.length; i++) {
              const annoteTarget = annoteTargets[i];
              const targetCell = annoteTarget.getAttribute("data-target-cell");
              const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
              const contentFn = () => {
                const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
                if (content) {
                  const tipContent = content.cloneNode(true);
                  tipContent.classList.add("code-annotation-tip-content");
                  return tipContent.outerHTML;
                }
              }
              const config = {
                allowHTML: true,
                content: contentFn,
                onShow: (instance) => {
                  selectCodeLines(instance.reference);
                  instance.reference.classList.add('code-annotation-active');
                  window.tippy.hideAll();
                },
                onHide: (instance) => {
                  unselectCodeLines();
                  instance.reference.classList.remove('code-annotation-active');
                },
                maxWidth: 300,
                delay: [50, 0],
                duration: [200, 0],
                offset: [5, 10],
                arrow: true,
                appendTo: function(el) {
                  return el.parentElement.parentElement.parentElement;
                },
                interactive: true,
                interactiveBorder: 10,
                theme: 'light-border',
                placement: 'right',
                popperOptions: {
                  modifiers: [
                  {
                    name: 'flip',
                    options: {
                      flipVariations: false, // true by default
                      allowedAutoPlacements: ['right'],
                      fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                    },
                  },
                  {
                    name: 'preventOverflow',
                    options: {
                      mainAxis: false,
                      altAxis: false
                    }
                  }
                  ]        
                }      
              };
              window.tippy(annoteTarget, config); 
            }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>